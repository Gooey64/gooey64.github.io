<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <title>Typing Tunes</title>
</head>
<body>
  <header>
    <div class="history">
      <a href="history.php">History</a>
    </div>
    <h1><a href="index.html">Typing Tunes</a></h1>
    <div class="rankings">
      <a href="rankings.php">Rankings</a>
    </div>
  </header>

  <main>
      <section class="login">
        <h1>Login</h1>

        <form action="type.html" id="loginform">
          <label>
            Username <br />
            <input type="input" 
                   id="username-input"
                   name="username"
                   maxlength="40"
                   required />
          </label>
          <br />
          <div style="text-align: center;">
              <button type="submit">Start Typing!</button>
          </div>
        </form>
      </section>
  </main>

  <footer>
    <div class="history">
      <a href="history.php">History</a>
    </div>
    <div><a href="index.html">Typing Tunes</a></div>
    <div class="rankings">
      <a href="rankings.php">Rankings</a>
    </div>
  </footer>

  <script>
    /**
     * Callback function for when a user logs in. Adds their username to cookie
     * data.
     */
     const handleSubmit = (event) => {
      const formData = new FormData(document.getElementById("loginform"));
      const username = formData.get("username");
      document.cookie = "username=" + username + "; SameSite=lax";

    }

    const form = document.getElementById("loginform");
    form.addEventListener("submit", handleSubmit);
  </script>
</body>
</html>
